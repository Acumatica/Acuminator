# PX1077
This document describes the PX1077 diagnostic.

## Summary

| Code   | Short Description                                                                                  | Type  | Code Fix  | 
| ------ | -------------------------------------------------------------------------------------------------- | ----- | --------- | 
| PX1077 | Event handlers in graphs and graph extensions should have the `protected` and `virtual` modifiers. | Error | Available | 

## Diagnostic Description
The accessibility level of an event handler should be `protected` and the method should be `virtual` (or `override`).
Private event handlers can lead to unexpected behavior, and are not guaranteed to be called by the Acumatica Framework.
Making the event handler `virtual` is a good practice for API design; it allows the derived classes to override the method and change the implementation.

## Further Notes
* If the event handler is already overriden, no warnings will be produced.
* Explicit interface implementations are effectively `private`. Only the warning will be produced, the fix will be left to the developer.
* If the container type is sealed, the code fix will propose `public` modifier and no `virtual` modifier.
* `private` modifiers produce an error, whereas other modifiers produce a warning.

## Example of Correct Code
The following example demonstrates the correct implementation of an event handler.
```C#
public class MyGraph : PXGraph<MyGraph>
{
}

public class MyGraphExtension : PXGraphExtension<MyGraph>
{
	protected virtual void HandleDocTypeFieldUpdated(Events.FieldUpdated<PX.Objects.AR.ARInvoice.docType> e)
	{
	}
}
```

## Example of Correct Code
In the following example, the access modifier is `public` because the method implements an interface.

```C#
public class MyGraph : PXGraph<MyGraph>
{
}

public interface IMyGraphExtension
{
	void HandleDocTypeFieldUpdated(Events.FieldUpdated<PX.Objects.AR.ARInvoice.docType> e);
}

public class MyGraphExtension : PXGraphExtension<MyGraph>, IMyGraphExtension
{
	public void HandleDocTypeFieldUpdated(Events.FieldUpdated<PX.Objects.AR.ARInvoice.docType> e)
	{
	}
}
```

## Example of Correct Code
In the following example, the access modifier is `public` and not `virtual` because the container type is `sealed`.

```C#
public class MyGraph : PXGraph<MyGraph>
{
}

public sealed class MyGraphExtension : PXGraphExtension<MyGraph>
{
	public void HandleDocTypeFieldUpdated(Events.FieldUpdated<PX.Objects.AR.ARInvoice.docType> e)
	{
	}
}
```

## Example of Correct Code
In the following example, the access modifier should be `protected` and `virtual`.

```C#
public class MyGraph : PXGraph<MyGraph>
{
}

public class MyGraphExtension : PXGraphExtension<MyGraph>
{
	private void HandleDocTypeFieldUpdated(Events.FieldUpdated<PX.Objects.AR.ARInvoice.docType> e)
	{
	}
}
```
