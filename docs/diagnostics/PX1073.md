# PX1073
This document describes the PX1073 diagnostic.

## Summary

| Code   | Short Description                                                 | Type  | Code Fix    | 
| ------ | ----------------------------------------------------------------- | ----- | ----------- | 
| PX1073 | Exceptions cannot be thrown in the `RowPersisted` event handlers. | Error | Unavailable |

## Diagnostic Description
Exceptions of any type cannot be thrown in the `RowPersisted` event handlers. 

The `RowPersisted` event handlers can be used for the following purposes:

 - Retrieval of the data from the database
 - Restoration of the values of the DAC fields if the status of the transaction scope is `Aborted`

To fix the issue, you should remove the code that throws the exception and rework the related business logic.

## Example of Incorrect Code

```C#
protected virtual void SOOrderLine_RowPersisted(PXCache sender, PXRowPersistedEventArgs e)
{
    if (e.TranStatus == PXTranStatus.Completed)
    {
        if (e.Operation == PXDBOperation.Delete)
        {
            SOOrderLine row = (SOOrderLine)e.Row;
            SOOrderLine insertedLine = PXSelect<SOOrder,
                Where<SOOrder.orderNbr, Equal<Required<SOOrder.orderNbr>>>>
                .Select(this, row.orderNbr);
            if (insertedLine != null)
            {
                throw new PXException("Cannot delete"); //The PX1073 error is displayed for this line.
            }
        }
    }
}
```