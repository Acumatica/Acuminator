# PX1080
This document describes the PX1080 diagnostic.

## Summary

| Code   | Short Description                                             | Type  | Code Fix    | 
| ------ | ------------------------------------------------------------- | ----- | ----------- | 
| PX1080 | Data view delegates should not start long-running operations. | Error | Unavailable |

## Diagnostic Description
Data view delegates should not start long-running operations. A data view delegate is used to define a dynamic query, which is executed when the data view is requested. Execution of a long-running operation in a data view delgate would cause ... 

On the processing pages, non-static methods can be used as processing delegates for data views

Long-running operations can be started in action delegates.

To fix the issue, you can do any of the following:

 - Move the code that starts a long-running operation to an action delegate
 - In the graph constructor of a processing page, set a non-static method that invokes a long-running operation as the processing delegate for the data view by using the generic `SetProcessDelegate<Graph>()` method
 - Remove the code that starts a long-running operation

## Example of Incorrect Code

```C#
public class ShipmentProcess : PXGraph<ShipmentProcess>
{
    [PXFilterable]
    public PXFilteredProcessingJoin<SOShipment, ShipFilter,
    LeftJoin<Customer,
        On<SOShipment.customerID, Equal<Customer.bAccountID>>>,
    Where<CustomerExtension.sCust, Equal<True>,
        And<CustomerExtension.sReq, Equal<True>>>>
    ShipmentList;

    protected virtual IEnumerable shipmentList()
    {
        var sel = new PXSelectJoin<SOShipment,
            InnerJoin<BAccount,
                On<SOShipment.customerID,
                    Equal<BAccount.bAccountID>>>>(this);
    
        PXLongOperation.StartOperation(this, delegate () //The PX1080 error is displayed for this line.
        {
            //update records
        });
        return sel.Select();
    }
}
```