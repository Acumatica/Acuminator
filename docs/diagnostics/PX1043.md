# PX1043
This document describes the PX1043 diagnostic.

## Summary

| Code   | Message                                                        | Type  | Code Fix    | 
| ------ | -------------------------------------------------------------- | ----- | ----------- | 
| PX1043 | Changes cannot be saved to the database from the event handler. Only the methods of the PXCache.Persist family can be used to save changes to the database from a RowPersisting event handler. | Error | Unavailable |

## Diagnostic Description
Only the methods of the `PXCache.Persist` family can be used to save changes to the database from `RowPersisting` event handlers. Changes cannot be saved to the database from other event handlers.

## Incorrect Code Example

```C#
public class SWKMapadocItemMaint : PXGraph<SWKMapadocItemMaint>
{
    ...
    protected virtual void SWKMapadocItem_RowDeleted(PXCache sender, PXRowDeletedEventArgs e)
    {
        SWKMapadocItem item = (SWKMapadocItem)e.Row;
        if (item == null) return;

        var deleted = new SWKMapadocItemDel();
        deleted.InventoryID = item.InventoryID;
        deleted.BAccountID = item.BAccountID;
        deleted.TradingPartnerItemID = item.TradingPartnerItemID;
        deleted = delitem.Insert(deleted);
        try
        {
            Actions.PressSave(); //Changes cannot be saved
        }
        catch (Exception ex)
        {
            delitem.Cache.Clear();
        }
    }
    ...
}
```